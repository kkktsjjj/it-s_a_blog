<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>This is for you</title>
    <link href="/2022/11/18/This-is-for-you/"/>
    <url>/2022/11/18/This-is-for-you/</url>
    
    <content type="html"><![CDATA[<h1 id="Document-AI-Tools"><a href="#Document-AI-Tools" class="headerlink" title="Document AI Tools"></a>Document AI Tools</h1><blockquote><p><em><strong>更新时间：2022-09-15</strong></em></p></blockquote><p>在当前目录下，需要安装依赖包 运行命令 <em>pip install -r requirements.txt</em></p><h2 id="1-通用"><a href="#1-通用" class="headerlink" title="1. 通用"></a>1. 通用</h2><h3 id="1-1-图片角度矫正"><a href="#1-1-图片角度矫正" class="headerlink" title="1.1 图片角度矫正"></a>1.1 图片角度矫正</h3><h4 id="img-correct-py"><a href="#img-correct-py" class="headerlink" title="img_correct.py"></a>img_correct.py</h4><ul><li>运行指令 <em>python img_correct.py –img_dir .&#x2F;imgs –save_dir .&#x2F;corrected_imgs</em></li><li>参数img_dir和img_path不能同时使用</li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–img_dir</td><td align="center">str</td><td>‘ ‘</td><td>待矫正图片文件夹路径</td></tr><tr><td>–img_path</td><td align="center">str</td><td>‘ ‘</td><td>待矫正图片的路径</td></tr><tr><td>–save_dir</td><td align="center">str</td><td>.&#x2F;corrected_imgs</td><td>矫正后图片保存路径</td></tr><tr><td>对应项目–correct_imgs_rotation</td><td align="center"></td><td></td><td></td></tr></tbody></table><h3 id="1-2-pdf文件转图片"><a href="#1-2-pdf文件转图片" class="headerlink" title="1.2 pdf文件转图片"></a>1.2 pdf文件转图片</h3><h4 id="img-to-pdf-py"><a href="#img-to-pdf-py" class="headerlink" title="img_to_pdf.py"></a>img_to_pdf.py</h4><ul><li>将多张图片组合成一个pdf文件</li><li>运行指令  <em>python img_to_pdf.py –img_dir .&#x2F;images –save_dir .&#x2F;pdf_file</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–img_dir</td><td align="center">str</td><td>.&#x2F;images</td><td>需要转pdf的图片文件夹路径</td></tr><tr><td>–save_dir</td><td align="center">str</td><td>.&#x2F;pdf_file</td><td>生成pdf文件的保存路径</td></tr></tbody></table><h4 id="pdf-to-image-py"><a href="#pdf-to-image-py" class="headerlink" title="pdf_to_image.py"></a>pdf_to_image.py</h4><ul><li>运行指令 <em>python pdf_to_image.py –pdf_dir .&#x2F;pdf_file –save_dir .&#x2F;pdf_images</em></li><li>参数pdf_dir和pdf_path不能同时使用</li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–pdf_dir</td><td align="center">str</td><td>‘ ‘</td><td>需要转图片的pdf文件夹路径</td></tr><tr><td>–pdf_path</td><td align="center">str</td><td>‘ ‘</td><td>需要转图片的单个pdf文件路径</td></tr><tr><td>–save_dir</td><td align="center">str</td><td>.&#x2F;pdf_images</td><td>生成图片的保存路径</td></tr><tr><td>对应项目–pdf_rename_to_images</td><td align="center"></td><td></td><td></td></tr></tbody></table><h3 id="1-3-图片重命名"><a href="#1-3-图片重命名" class="headerlink" title="1.3 图片重命名"></a>1.3 图片重命名</h3><h4 id="images-rename-py"><a href="#images-rename-py" class="headerlink" title="images_rename.py"></a>images_rename.py</h4><ul><li>运行指令 <em>python images_rename.py –img_dir .&#x2F;images –save_dir .&#x2F;images_result</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–img_dir</td><td align="center">str</td><td>.&#x2F;images</td><td>待重命名图片文件夹所在路径</td></tr><tr><td>–save_dir</td><td align="center">str</td><td>.&#x2F;images_result</td><td>重命名后图片的保存路径</td></tr><tr><td><em>命名规范：kdan_year-month-day_index[0:8]_uuid[0:4].jpg</em></td><td align="center"></td><td></td><td></td></tr><tr><td>对应项目–Images_rename</td><td align="center"></td><td></td><td></td></tr></tbody></table><h3 id="1-4-根据label截图保存"><a href="#1-4-根据label截图保存" class="headerlink" title="1.4 根据label截图保存"></a>1.4 根据label截图保存</h3><h4 id="cut-roi-save-py"><a href="#cut-roi-save-py" class="headerlink" title="cut_roi_save.py"></a>cut_roi_save.py</h4><ul><li>数据准备：labelme标注的原始数据集（图片和json文件在同目录下）；</li><li>运行指令 <em>python cut_roi_save.py –input_dirs .&#x2F;fold1 .&#x2F;fold2 –label Table –save_dir .&#x2F;images –size 300</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–input_dirs</td><td align="center">[str,str]</td><td>.&#x2F;fold1 .&#x2F;fold2</td><td>待处理的多个文件夹（图片以及json）路径，每条路径之间用空格隔开</td></tr><tr><td>–label</td><td align="center">str</td><td>Table</td><td>截取图片的标签名[Table,Figure]</td></tr><tr><td>–save_dir</td><td align="center">str</td><td>.&#x2F;images</td><td>截取图片的保存路径</td></tr><tr><td>–size</td><td align="center">int</td><td>0</td><td>等比缩放短边需达到的尺寸(如不设置此参数，则按原尺寸保存)</td></tr><tr><td>对应项目–screenshot_save_by_label</td><td align="center"></td><td></td><td></td></tr></tbody></table><h3 id="1-5-半自动标注"><a href="#1-5-半自动标注" class="headerlink" title="1.5 半自动标注"></a>1.5 半自动标注</h3><h4 id="infer-demo-py"><a href="#infer-demo-py" class="headerlink" title="infer_demo.py"></a>infer_demo.py</h4><ul><li>运行指令 <em>python infer_demo.py –model_path .&#x2F;onnx_ile&#x2F;picodet_l_416_lp_0826.onnx –class_file .&#x2F;lp_label.txt –conf_Threshold 0.5 –img_dir .&#x2F;images –result_dir .&#x2F;result</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–model_path</td><td align="center">str</td><td>.&#x2F;onnx_file&#x2F;picodet_l_416_lp_0826.onnx</td><td>本次使用onnx文件的路径</td></tr><tr><td>–class_file</td><td align="center">str</td><td>.&#x2F;lp_label.txt</td><td>label文件（所有label以及对应id）路径</td></tr><tr><td>–conf_Threshold</td><td align="center">float</td><td>0.5</td><td>类别置信分数，大于此分数的预测目标才会被保留</td></tr><tr><td>–img_dir</td><td align="center">str</td><td>.&#x2F;imgs</td><td>需进行的标注的图片文件夹路径</td></tr><tr><td>–result_dir</td><td align="center">str</td><td>.&#x2F;result</td><td>可视化的图片结果过图片保存路径</td></tr><tr><td>对应项目–semi_auto_labeling</td><td align="center"></td><td></td><td></td></tr></tbody></table><h2 id="2-检测"><a href="#2-检测" class="headerlink" title="2. 检测"></a>2. 检测</h2><h3 id="2-1-单个labelme格式数据集划分、转coco格式"><a href="#2-1-单个labelme格式数据集划分、转coco格式" class="headerlink" title="2.1 单个labelme格式数据集划分、转coco格式"></a>2.1 单个labelme格式数据集划分、转coco格式</h3><h4 id="labelme-to-coco-py"><a href="#labelme-to-coco-py" class="headerlink" title="labelme_to_coco.py"></a>labelme_to_coco.py</h4><ul><li>将单个文件夹（labelme标注格式）划分、转换为coco格式数据集</li><li>运行指令 <em>python labelme_to_coco.py –labelme_dir .&#x2F;images –save_coco_dir .&#x2F;coco_dataset</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–labelme_dir</td><td align="center">str</td><td>.&#x2F;images</td><td>labelme标注格式数据集路径</td></tr><tr><td>–save_coco_dir</td><td align="center">str</td><td>.&#x2F;coco_dataset</td><td>划分训练集、验证集并转换coco格式数据集保存的路径</td></tr><tr><td>对应项目–divide_and_convert_to_coco_single_fold</td><td align="center"></td><td></td><td></td></tr></tbody></table><h3 id="2-2-多个labelme格式数据集合并、划分、转coco格式"><a href="#2-2-多个labelme格式数据集合并、划分、转coco格式" class="headerlink" title="2.2 多个labelme格式数据集合并、划分、转coco格式"></a>2.2 多个labelme格式数据集合并、划分、转coco格式</h3><h4 id="merge-and-divide-py"><a href="#merge-and-divide-py" class="headerlink" title="merge_and_divide.py"></a>merge_and_divide.py</h4><ul><li>合并多个labelme标注格式的文件夹，并划分、转换为coco格式数据集</li><li>运行指令 <em>python merge_and_divide.py –anno_dirs .&#x2F;fold1 .&#x2F;fold2 –train_ratio 0.8</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–anno_dirs</td><td align="center">[str]</td><td>.&#x2F;fold1 .&#x2F;fold2</td><td>多个文件夹，空格隔开</td></tr><tr><td>–train_ratio</td><td align="center">float</td><td>0.8</td><td>coco格式训练集比例</td></tr><tr><td>对应项目–merge_and_divide_to_coco_multi_folds</td><td align="center"></td><td></td><td></td></tr></tbody></table><h2 id="3-分类"><a href="#3-分类" class="headerlink" title="3. 分类"></a>3. 分类</h2><h3 id="3-1-字体图片生成"><a href="#3-1-字体图片生成" class="headerlink" title="3.1 字体图片生成"></a>3.1 字体图片生成</h3><h4 id="generate-imgs-by-fonts-py"><a href="#generate-imgs-by-fonts-py" class="headerlink" title="generate_imgs_by_fonts.py"></a>generate_imgs_by_fonts.py</h4><ul><li>根据语料库内容生成对应字体的图片，白底黑字</li><li>运行指令 <em>python create_imgs_by_fonts.py –font_dir .&#x2F;eng_fonts –text_path .&#x2F;text&#x2F;eng_text.txt –save_dir .&#x2F;output</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–font_dir</td><td align="center">str</td><td>.&#x2F;eng_fonts</td><td>字体文件目录</td></tr><tr><td>–text_path</td><td align="center">str</td><td>.&#x2F;text&#x2F;eng_text.txt</td><td>语料库文件路径</td></tr><tr><td>–save_dir</td><td align="center">str</td><td>.&#x2F;font_img_dataset&#x2F;windows</td><td>生成图片保存路径</td></tr><tr><td>对应项目–fonts_images_generate</td><td align="center"></td><td></td><td></td></tr></tbody></table><h3 id="3-2-语料库生成"><a href="#3-2-语料库生成" class="headerlink" title="3.2 语料库生成"></a>3.2 语料库生成</h3><h4 id="generate-py"><a href="#generate-py" class="headerlink" title="generate.py"></a>generate.py</h4><ul><li>根据文字字典生成字体分类所需的语料库</li><li>运行指令 <em>python generate.py –start 2 –end 30 –step 2 –dict_path .&#x2F;chn_dict.txt –save_path .&#x2F;text&#x2F;text.txt</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–start</td><td align="center">int</td><td>0</td><td>生成单句语料的最小长度</td></tr><tr><td>–end</td><td align="center">int</td><td>30</td><td>生成单句语料的最大长度</td></tr><tr><td>–step</td><td align="center">int</td><td>2</td><td>单句语料长度的步长</td></tr><tr><td>–word_num</td><td align="center">int</td><td>10</td><td>单句出现的次数</td></tr><tr><td>–dict_path</td><td align="center">str</td><td>.&#x2F;chn_dict.txt</td><td>文字字典路径</td></tr><tr><td>–save_path</td><td align="center">str</td><td>.&#x2F;text&#x2F;text.txt</td><td>生成的语料库文件路径</td></tr><tr><td>对应项目–dictionary_generate</td><td align="center"></td><td></td><td></td></tr></tbody></table><h3 id="3-3-带角度图像生成"><a href="#3-3-带角度图像生成" class="headerlink" title="3.3 带角度图像生成"></a>3.3 带角度图像生成</h3><h4 id="make-rotated-py"><a href="#make-rotated-py" class="headerlink" title="make_rotated.py"></a>make_rotated.py</h4><ul><li>根据指定的图片，从0度开始以15度为角度增量，生成带旋转角度的图片，缺失部分用白色背景填充</li><li>然后将生成的图片划分为4类，img_0, img_90, img_180, img_270</li><li>运行指令  <em>python make_rotated.py –img_dir .&#x2F;images –save_dir .&#x2F;images_rotated</em></li><li><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–img_dir</td><td align="center">str</td><td>.&#x2F;images</td><td>图片文件夹路径</td></tr><tr><td>–save_dir</td><td align="center">str</td><td>.&#x2F;imgages_rotated</td><td>生成的旋转的图片保存路径</td></tr></tbody></table></li></ul><p>对应项目–text_image_orientation_dataset_generate</p><h3 id="3-4-分类数据集划分"><a href="#3-4-分类数据集划分" class="headerlink" title="3.4 分类数据集划分"></a>3.4 分类数据集划分</h3><h4 id="divide-train-eval-py"><a href="#divide-train-eval-py" class="headerlink" title="divide_train_eval.py"></a>divide_train_eval.py</h4><ul><li>运行指令 <em>python divide_train_eval.py –img_dir .&#x2F;windows –train_ratio 0.8</em></li></ul><table><thead><tr><th><strong>参数名</strong></th><th align="center"><strong>数据类型</strong></th><th><strong>默认值</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>–img_dir</td><td align="center">str</td><td>.&#x2F;font_img_dataset&#x2F;windows</td><td>待划分的图片文件夹路径</td></tr><tr><td>–train_ratio</td><td align="center">float</td><td>0.8</td><td>训练集所占比例</td></tr><tr><td>对应项目–classification_dataset_divide</td><td align="center"></td><td></td><td></td></tr></tbody></table><p><strong>以上所述的路径，相对路径、绝对路径均可</strong></p><p><u><em>KDAN MOBILE SOFTWARE LTD. all rights reserved</em></u></p>]]></content>
    
    
    
    <tags>
      
      <tag>love</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/11/18/hello-world/"/>
    <url>/2022/11/18/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
